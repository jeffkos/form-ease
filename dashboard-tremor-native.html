<!DOCTYPE html>
<html lang="fr" class="antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FormEase Analytics Dashboard - Tremor Native Charts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet">
    <!-- Dépendances pour les graphiques Tremor-style -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
        // Configuration Tremor officielle
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tremor': {
                            'brand': {
                                'faint': '#eff6ff',
                                'muted': '#bfdbfe',
                                'subtle': '#60a5fa',
                                'DEFAULT': '#3b82f6',
                                'emphasis': '#1d4ed8',
                                'inverted': '#ffffff'
                            },
                            'background': {
                                'muted': '#f9fafb',
                                'subtle': '#f3f4f6',
                                'DEFAULT': '#ffffff',
                                'emphasis': '#374151'
                            },
                            'border': {
                                'DEFAULT': '#e5e7eb'
                            },
                            'content': {
                                'subtle': '#9ca3af',
                                'DEFAULT': '#6b7280',
                                'emphasis': '#374151',
                                'strong': '#111827',
                                'inverted': '#ffffff'
                            }
                        }
                    },
                    borderRadius: {
                        'tremor-small': '0.375rem',
                        'tremor-default': '0.5rem',
                        'tremor-full': '9999px',
                    },
                    fontSize: {
                        'tremor-label': ['0.75rem', { lineHeight: '1rem' }],
                        'tremor-default': ['0.875rem', { lineHeight: '1.25rem' }],
                        'tremor-title': ['1.125rem', { lineHeight: '1.75rem' }],
                        'tremor-metric': ['1.875rem', { lineHeight: '2.25rem' }],
                    },
                    boxShadow: {
                        'tremor-card': '0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)',
                        'tremor-dropdown': '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
                    },
                    keyframes: {
                        'tremor-pulse': {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '.5' }
                        }
                    },
                    animation: {
                        'tremor-pulse': 'tremor-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite'
                    }
                }
            }
        }
    </script>
    <style>
        .chart-container {
            position: relative;
            height: 256px;
            width: 100%;
        }
        
        .area-chart svg, .combo-chart svg {
            width: 100%;
            height: 100%;
        }
        
        .area-chart .area {
            fill: rgba(59, 130, 246, 0.1);
            stroke: #3b82f6;
            stroke-width: 2;
        }
        
        .combo-chart .bar {
            fill: rgba(139, 92, 246, 0.8);
        }
        
        .combo-chart .line {
            fill: none;
            stroke: #10b981;
            stroke-width: 3;
        }
        
        .axis {
            color: #6b7280;
            font-size: 11px;
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        .grid-line {
            stroke: #e5e7eb;
            stroke-width: 1;
        }
    </style>
</head>
<body class="bg-tremor-background-muted">
    <!-- Header -->
    <header class="bg-tremor-background border-b border-tremor-border">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="h-8 w-8 rounded-tremor-default bg-tremor-brand flex items-center justify-center">
                            <i class="ri-file-list-3-line text-tremor-content-inverted text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-tremor-title font-semibold text-tremor-content-strong">FormEase</h1>
                            <p class="text-tremor-label text-tremor-content">Analytics Dashboard</p>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 rounded-tremor-default bg-emerald-50 border border-emerald-200 px-3 py-1.5">
                        <div class="h-2 w-2 rounded-full bg-emerald-500 animate-tremor-pulse"></div>
                        <span class="text-tremor-default font-medium text-emerald-800">En ligne</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
        <!-- KPI Cards -->
        <div class="mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
            <!-- Visiteurs totaux -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="flex items-center">
                    <div class="flex-1">
                        <p class="text-tremor-default font-medium text-tremor-content">Visiteurs totaux</p>
                        <p class="text-tremor-metric font-semibold text-tremor-content-strong mt-2" id="visitorsMetric">18,042</p>
                    </div>
                    <div class="rounded-tremor-default bg-blue-50 p-3">
                        <i class="ri-user-line text-xl text-blue-600"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-1">
                    <i class="ri-arrow-up-line text-tremor-default text-emerald-600"></i>
                    <span class="text-tremor-default font-medium text-emerald-600">12.5%</span>
                    <span class="text-tremor-default text-tremor-content">vs mois dernier</span>
                </div>
            </div>

            <!-- Formulaires actifs -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="flex items-center">
                    <div class="flex-1">
                        <p class="text-tremor-default font-medium text-tremor-content">Formulaires actifs</p>
                        <p class="text-tremor-metric font-semibold text-tremor-content-strong mt-2">247</p>
                    </div>
                    <div class="rounded-tremor-default bg-green-50 p-3">
                        <i class="ri-file-text-line text-xl text-green-600"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-1">
                    <i class="ri-arrow-up-line text-tremor-default text-emerald-600"></i>
                    <span class="text-tremor-default font-medium text-emerald-600">8.2%</span>
                    <span class="text-tremor-default text-tremor-content">vs mois dernier</span>
                </div>
            </div>

            <!-- Taux de conversion -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="flex items-center">
                    <div class="flex-1">
                        <p class="text-tremor-default font-medium text-tremor-content">Taux de conversion</p>
                        <p class="text-tremor-metric font-semibold text-tremor-content-strong mt-2">68.4%</p>
                    </div>
                    <div class="rounded-tremor-default bg-orange-50 p-3">
                        <i class="ri-pie-chart-line text-xl text-orange-600"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-1">
                    <i class="ri-arrow-up-line text-tremor-default text-emerald-600"></i>
                    <span class="text-tremor-default font-medium text-emerald-600">2.1%</span>
                    <span class="text-tremor-default text-tremor-content">vs mois dernier</span>
                </div>
            </div>

            <!-- Revenus mensuels -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="flex items-center">
                    <div class="flex-1">
                        <p class="text-tremor-default font-medium text-tremor-content">Revenus mensuels</p>
                        <p class="text-tremor-metric font-semibold text-tremor-content-strong mt-2">€84,250</p>
                    </div>
                    <div class="rounded-tremor-default bg-violet-50 p-3">
                        <i class="ri-money-euro-circle-line text-xl text-violet-600"></i>
                    </div>
                </div>
                <div class="mt-4 flex items-center space-x-1">
                    <i class="ri-arrow-up-line text-tremor-default text-emerald-600"></i>
                    <span class="text-tremor-default font-medium text-emerald-600">15.2%</span>
                    <span class="text-tremor-default text-tremor-content">vs mois dernier</span>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2">
            <!-- Évolution du Trafic -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="mb-6">
                    <h3 class="text-tremor-title font-semibold text-tremor-content-strong">Évolution du trafic</h3>
                    <p class="mt-1 text-tremor-default text-tremor-content">Visiteurs quotidiens sur les 30 derniers jours</p>
                </div>
                <div class="chart-container">
                    <div id="trafficChart" class="area-chart"></div>
                </div>
            </div>

            <!-- Revenus par Mois -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="mb-6">
                    <h3 class="text-tremor-title font-semibold text-tremor-content-strong">Revenus par mois</h3>
                    <p class="mt-1 text-tremor-default text-tremor-content">Performance financière mensuelle</p>
                </div>
                <div class="chart-container">
                    <div id="revenueChart" class="combo-chart"></div>
                </div>
            </div>
        </div>

        <!-- Activity Lists -->
        <div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
            <!-- Top Formulaires -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="mb-6">
                    <h3 class="text-tremor-title font-semibold text-tremor-content-strong">Top formulaires</h3>
                    <p class="mt-1 text-tremor-default text-tremor-content">Les plus performants ce mois</p>
                </div>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="rounded-tremor-default bg-blue-50 p-2">
                                <i class="ri-user-add-line text-sm text-blue-600"></i>
                            </div>
                            <div>
                                <p class="text-tremor-default font-medium text-tremor-content-strong">Inscription Newsletter</p>
                                <p class="text-tremor-label text-tremor-content">342 soumissions</p>
                            </div>
                        </div>
                        <span class="inline-flex items-center rounded-tremor-full bg-emerald-50 px-2.5 py-0.5 text-tremor-label font-medium text-emerald-800">
                            <span class="mr-1 h-1.5 w-1.5 rounded-full bg-emerald-600"></span>
                            Actif
                        </span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="rounded-tremor-default bg-green-50 p-2">
                                <i class="ri-phone-line text-sm text-green-600"></i>
                            </div>
                            <div>
                                <p class="text-tremor-default font-medium text-tremor-content-strong">Contact Commercial</p>
                                <p class="text-tremor-label text-tremor-content">128 soumissions</p>
                            </div>
                        </div>
                        <span class="inline-flex items-center rounded-tremor-full bg-emerald-50 px-2.5 py-0.5 text-tremor-label font-medium text-emerald-800">
                            <span class="mr-1 h-1.5 w-1.5 rounded-full bg-emerald-600"></span>
                            Actif
                        </span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="rounded-tremor-default bg-purple-50 p-2">
                                <i class="ri-survey-line text-sm text-purple-600"></i>
                            </div>
                            <div>
                                <p class="text-tremor-default font-medium text-tremor-content-strong">Enquête Satisfaction</p>
                                <p class="text-tremor-label text-tremor-content">94 soumissions</p>
                            </div>
                        </div>
                        <span class="inline-flex items-center rounded-tremor-full bg-yellow-50 px-2.5 py-0.5 text-tremor-label font-medium text-yellow-800">
                            <span class="mr-1 h-1.5 w-1.5 rounded-full bg-yellow-600"></span>
                            En test
                        </span>
                    </div>
                </div>
            </div>

            <!-- Activité Récente -->
            <div class="rounded-tremor-default bg-tremor-background p-6 shadow-tremor-card border border-tremor-border">
                <div class="mb-6">
                    <h3 class="text-tremor-title font-semibold text-tremor-content-strong">Activité récente</h3>
                    <p class="mt-1 text-tremor-default text-tremor-content">Derniers événements système</p>
                </div>
                <div class="space-y-4">
                    <div class="flex items-start space-x-3">
                        <div class="rounded-tremor-full bg-emerald-50 p-1.5">
                            <i class="ri-arrow-up-line text-xs text-emerald-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-tremor-default font-medium text-tremor-content-strong">Pic de trafic détecté</p>
                            <p class="text-tremor-label text-tremor-content">+127% par rapport à la normale</p>
                            <p class="text-tremor-label text-tremor-content-subtle">Il y a 2 minutes</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="rounded-tremor-full bg-blue-50 p-1.5">
                            <i class="ri-trophy-line text-xs text-blue-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-tremor-default font-medium text-tremor-content-strong">Record mensuel atteint</p>
                            <p class="text-tremor-label text-tremor-content">€84,250 en revenus</p>
                            <p class="text-tremor-label text-tremor-content-subtle">Il y a 1 heure</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="rounded-tremor-full bg-amber-50 p-1.5">
                            <i class="ri-tools-line text-xs text-amber-600"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-tremor-default font-medium text-tremor-content-strong">Maintenance programmée</p>
                            <p class="text-tremor-label text-tremor-content">Demain à 02:00</p>
                            <p class="text-tremor-label text-tremor-content-subtle">Il y a 3 heures</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Footer -->
        <div class="mt-8 text-center">
            <div class="inline-flex items-center space-x-2 rounded-tremor-default bg-emerald-50 border border-emerald-200 px-4 py-2">
                <div class="h-2 w-2 rounded-full bg-emerald-500 animate-tremor-pulse"></div>
                <span class="text-tremor-default font-medium text-emerald-800">
                    <i class="ri-checkbox-circle-line mr-1"></i>
                    FormEase Dashboard Premium - Système opérationnel
                </span>
            </div>
        </div>
    </main>

    <script>
        // Données pour les graphiques FormEase style Tremor
        const trafficData = [
            { date: '1 Jan', visiteurs: 1250 },
            { date: '3 Jan', visiteurs: 1380 },
            { date: '5 Jan', visiteurs: 1120 },
            { date: '7 Jan', visiteurs: 1580 },
            { date: '9 Jan', visiteurs: 1650 },
            { date: '11 Jan', visiteurs: 2340 },
            { date: '13 Jan', visiteurs: 2180 },
            { date: '15 Jan', visiteurs: 2450 },
            { date: '17 Jan', visiteurs: 2280 },
            { date: '19 Jan', visiteurs: 2150 },
            { date: '21 Jan', visiteurs: 2680 },
            { date: '23 Jan', visiteurs: 2790 },
            { date: '25 Jan', visiteurs: 2350 },
            { date: '27 Jan', visiteurs: 2850 },
            { date: '29 Jan', visiteurs: 3120 },
            { date: '31 Jan', visiteurs: 2980 }
        ];

        const revenueData = [
            { mois: "Février", revenus: 65000, croissance: 12.5 },
            { mois: "Mars", revenus: 72000, croissance: 10.8 },
            { mois: "Avril", revenus: 68000, croissance: -5.6 },
            { mois: "Mai", revenus: 75000, croissance: 10.3 },
            { mois: "Juin", revenus: 71000, croissance: -5.3 },
            { mois: "Juillet", revenus: 82000, croissance: 15.5 }
        ];

        // Création du graphique Area Chart avec D3.js style Tremor
        function createTremorAreaChart() {
            const container = d3.select("#trafficChart");
            const containerNode = container.node();
            if (!containerNode) return;

            const margin = { top: 20, right: 30, bottom: 40, left: 50 };
            const width = containerNode.offsetWidth - margin.left - margin.right;
            const height = 256 - margin.top - margin.bottom;

            // Nettoyer le conteneur
            container.selectAll("*").remove();

            const svg = container
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom);

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            // Échelles
            const x = d3.scaleBand()
                .domain(trafficData.map(d => d.date))
                .range([0, width])
                .padding(0.1);

            const y = d3.scaleLinear()
                .domain([0, d3.max(trafficData, d => d.visiteurs) * 1.1])
                .range([height, 0]);

            // Ligne et aire
            const line = d3.line()
                .x(d => x(d.date) + x.bandwidth() / 2)
                .y(d => y(d.visiteurs))
                .curve(d3.curveCardinal);

            const area = d3.area()
                .x(d => x(d.date) + x.bandwidth() / 2)
                .y0(height)
                .y1(d => y(d.visiteurs))
                .curve(d3.curveCardinal);

            // Grille
            g.selectAll(".grid-line")
                .data(y.ticks())
                .enter()
                .append("line")
                .attr("class", "grid-line")
                .attr("x1", 0)
                .attr("x2", width)
                .attr("y1", d => y(d))
                .attr("y2", d => y(d));

            // Aire
            g.append("path")
                .datum(trafficData)
                .attr("class", "area")
                .attr("d", area);

            // Ligne
            g.append("path")
                .datum(trafficData)
                .attr("fill", "none")
                .attr("stroke", "#3b82f6")
                .attr("stroke-width", 2)
                .attr("d", line);

            // Axes
            g.append("g")
                .attr("class", "axis")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x).tickSize(0))
                .selectAll("text")
                .style("fill", "#6b7280")
                .style("font-size", "11px");

            g.append("g")
                .attr("class", "axis")
                .call(d3.axisLeft(y).tickSize(0).tickFormat(d => d >= 1000 ? (d/1000) + 'k' : d))
                .selectAll("text")
                .style("fill", "#6b7280")
                .style("font-size", "11px");

            // Points hover
            g.selectAll(".dot")
                .data(trafficData)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("cx", d => x(d.date) + x.bandwidth() / 2)
                .attr("cy", d => y(d.visiteurs))
                .attr("r", 0)
                .attr("fill", "#3b82f6")
                .on("mouseover", function(event, d) {
                    d3.select(this).attr("r", 4);
                    // Tooltip simple
                    const tooltip = g.append("g").attr("class", "tooltip");
                    tooltip.append("rect")
                        .attr("x", x(d.date) + x.bandwidth() / 2 - 40)
                        .attr("y", y(d.visiteurs) - 35)
                        .attr("width", 80)
                        .attr("height", 25)
                        .attr("fill", "white")
                        .attr("stroke", "#e5e7eb")
                        .attr("rx", 4);
                    tooltip.append("text")
                        .attr("x", x(d.date) + x.bandwidth() / 2)
                        .attr("y", y(d.visiteurs) - 18)
                        .attr("text-anchor", "middle")
                        .style("font-size", "12px")
                        .style("fill", "#111827")
                        .text(`${d.visiteurs.toLocaleString()}`);
                })
                .on("mouseout", function() {
                    d3.select(this).attr("r", 0);
                    g.select(".tooltip").remove();
                });
        }

        // Création du Combo Chart avec D3.js style Tremor
        function createTremorComboChart() {
            const container = d3.select("#revenueChart");
            const containerNode = container.node();
            if (!containerNode) return;

            const margin = { top: 20, right: 50, bottom: 40, left: 60 };
            const width = containerNode.offsetWidth - margin.left - margin.right;
            const height = 256 - margin.top - margin.bottom;

            // Nettoyer le conteneur
            container.selectAll("*").remove();

            const svg = container
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom);

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            // Échelles
            const x = d3.scaleBand()
                .domain(revenueData.map(d => d.mois))
                .range([0, width])
                .padding(0.3);

            const yLeft = d3.scaleLinear()
                .domain([0, d3.max(revenueData, d => d.revenus) * 1.1])
                .range([height, 0]);

            const yRight = d3.scaleLinear()
                .domain(d3.extent(revenueData, d => d.croissance).map(d => d * 1.2))
                .range([height, 0]);

            // Grille
            g.selectAll(".grid-line")
                .data(yLeft.ticks())
                .enter()
                .append("line")
                .attr("class", "grid-line")
                .attr("x1", 0)
                .attr("x2", width)
                .attr("y1", d => yLeft(d))
                .attr("y2", d => yLeft(d));

            // Barres
            g.selectAll(".bar")
                .data(revenueData)
                .enter().append("rect")
                .attr("class", "bar")
                .attr("x", d => x(d.mois))
                .attr("width", x.bandwidth())
                .attr("y", d => yLeft(d.revenus))
                .attr("height", d => height - yLeft(d.revenus))
                .attr("rx", 4);

            // Ligne de croissance
            const line = d3.line()
                .x(d => x(d.mois) + x.bandwidth() / 2)
                .y(d => yRight(d.croissance))
                .curve(d3.curveCardinal);

            g.append("path")
                .datum(revenueData)
                .attr("class", "line")
                .attr("d", line);

            // Points de la ligne
            g.selectAll(".line-dot")
                .data(revenueData)
                .enter().append("circle")
                .attr("class", "line-dot")
                .attr("cx", d => x(d.mois) + x.bandwidth() / 2)
                .attr("cy", d => yRight(d.croissance))
                .attr("r", 4)
                .attr("fill", "#10b981")
                .attr("stroke", "white")
                .attr("stroke-width", 2);

            // Axes
            g.append("g")
                .attr("class", "axis")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x).tickSize(0))
                .selectAll("text")
                .style("fill", "#6b7280")
                .style("font-size", "11px");

            g.append("g")
                .attr("class", "axis")
                .call(d3.axisLeft(yLeft).tickSize(0).tickFormat(d => '€' + (d >= 1000 ? (d/1000) + 'k' : d)))
                .selectAll("text")
                .style("fill", "#6b7280")
                .style("font-size", "11px");

            g.append("g")
                .attr("class", "axis")
                .attr("transform", `translate(${width},0)`)
                .call(d3.axisRight(yRight).tickSize(0).tickFormat(d => (d >= 0 ? '+' : '') + d.toFixed(1) + '%'))
                .selectAll("text")
                .style("fill", "#6b7280")
                .style("font-size", "11px");

            // Légende
            const legend = g.append("g").attr("class", "legend").attr("transform", "translate(10, 10)");
            
            legend.append("rect")
                .attr("width", 12)
                .attr("height", 12)
                .attr("fill", "rgba(139, 92, 246, 0.8)");
            
            legend.append("text")
                .attr("x", 18)
                .attr("y", 10)
                .style("font-size", "12px")
                .style("fill", "#6b7280")
                .text("Revenus mensuels");

            legend.append("line")
                .attr("x1", 150)
                .attr("x2", 162)
                .attr("y1", 6)
                .attr("y2", 6)
                .attr("stroke", "#10b981")
                .attr("stroke-width", 3);
                
            legend.append("text")
                .attr("x", 168)
                .attr("y", 10)
                .style("font-size", "12px")
                .style("fill", "#6b7280")
                .text("Croissance (%)");
        }

        // Animation des métriques
        function animateMetrics() {
            const visitorsElement = document.getElementById('visitorsMetric');
            if (visitorsElement) {
                let current = 0;
                const target = 18042;
                const increment = target / 100;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    visitorsElement.textContent = Math.floor(current).toLocaleString();
                }, 20);
            }
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Dashboard Tremor avec D3.js chargé');
            
            // Créer les graphiques
            setTimeout(() => {
                createTremorAreaChart();
                createTremorComboChart();
                console.log('Graphiques Tremor D3.js créés');
            }, 100);
            
            // Animer les métriques
            animateMetrics();
        });

        // Gestion du redimensionnement
        window.addEventListener('resize', function() {
            createTremorAreaChart();
            createTremorComboChart();
        });
    </script>
</body>
</html>
